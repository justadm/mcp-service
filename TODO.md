# TODO (после MVP)

Этот файл фиксирует идеи и задачи, которые мы проговорили, но они не входят в MVP (MVP сейчас: JSON/OpenAPI/Postgres + HTTP транспорт + Docker/compose + probe).

## Продукт (ЛК/сайт)
- [ ] Регистрация/авторизация пользователей.
- [ ] Личный кабинет: проекты (CRUD), окружения, статус деплоя.
- [ ] Мастер добавления источника данных с валидацией доступов (probe) и подсказками по формату/примеру.
- [ ] Выбор размещения MCP-сервера: наше облако (managed) vs BYO/изолированное (позже).
- [ ] Предварительный расчет:
  - [ ] единоразовая обработка/создание MCP-сервера,
  - [ ] ежемесячно за хостинг/ресурсы,
  - [ ] free tier по лимитам объема/публичности.
- [ ] Биллинг и планы.

## Источники данных (расширение списка)
- [ ] GraphQL как отдельный коннектор (GraphQL -> MCP tools).
- [ ] “API без OpenAPI”: ручной маппинг/описание эндпоинтов (иначе качественно auto-tools не построить).
- [ ] Документы/веб (MD/DOCX/PDF/Wiki/Web) не в MVP:
  - [ ] пайплайн извлечения текста/метаданных,
  - [ ] индексация,
  - [ ] MCP tools для поиска/выдачи фрагментов/ссылок на источник.

## OpenAPI качество
- [ ] Генерация строгих `inputSchema` из OpenAPI schema (сейчас универсально: `params/query/headers/body`).
- [ ] Ограничения прокси:
  - [ ] allowlist `baseUrl`/host,
  - [ ] таймауты,
  - [ ] лимиты размера ответа,
  - [ ] нормализация ошибок.

## Postgres/DB безопасность и удобство
- [ ] Поддержка других БД (MySQL, SQLite) как отдельные коннекторы.
- [ ] Более богатые безопасные фильтры (range/like/in) без “сырого SQL”.
- [ ] Профили прав доступа (только read-only, table/column allowlist).
- [ ] Метрики/лимиты запросов (timeouts, rate limit).

## Probe (для тарификации)
- [ ] Стабильный контракт отчета probe (версионирование формата).
- [ ] Таймауты/лимиты probe по всем источникам, частичные результаты без падения.
- [ ] Оценка “объема” для расчета: операции OpenAPI, таблицы/колонки, размеры файлов, сетевые лимиты.

## Хостинг/деплой (managed) и TimeWeb
- [ ] Определить минимальный контракт деплоя в TimeWeb: что именно создаем/обновляем (кластер/namespace/registry/deployment/ingress).
- [ ] Реализация деплой-джобы под TimeWeb API:
  - [ ] сборка контейнера,
  - [ ] push в registry,
  - [ ] apply/upgrade манифестов в k8s,
  - [ ] destroy проекта.
- [ ] Helm chart или шаблоны манифестов (Deployment/Service/Ingress + ConfigMap/Secret).

## Эксплуатация/безопасность
- [ ] Secrets best-practice: поддержка `*_FILE` (Docker/Vault-style) для токенов/connection string.
- [ ] Health endpoints (`/health`, `/ready`) для HTTP транспорта.
- [ ] Структурные JSON-логи (без секретов) + корреляция запросов.
- [ ] Набор production-ограничений: memory/CPU limits, request limits, логирование ошибок.

## “Экспорт сервера” (не в MVP)
- [ ] Гибридный режим: экспорт текущего проекта (конфиг + коннекторы) в отдельный репозиторий/артефакт для запуска у клиента.

