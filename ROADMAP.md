# Roadmap (mcp-service)

## MVP: Конструктор MCP-серверов из структурированных источников (JSON/OpenAPI/Postgres)
- [x] Базовый MCP runtime из YAML-конфига (stdio)
- [x] Коннекторы: `json`, `csv`, `openapi`
- [x] HTTP транспорт (Streamable HTTP) для managed-хостинга
- [x] Коннектор `postgres` (list/describe/select с ограничениями)
- [x] Dockerfile для сборки
- [x] docker-compose для изолированного локального запуска (без конфликтов портов)

## Probe/оценка (для предварительного расчета в ЛК)
- [ ] Режим `probe`: собрать метрики по источникам (OpenAPI: tools count; JSON/CSV: размер; Postgres: список таблиц)
- [ ] Нормализованный формат результатов probe (JSON), пригодный для тарификации
- [ ] Таймауты/лимиты probe по всем источникам (в том числе сетевым)

## Безопасность и эксплуатация (managed)
- [ ] Секреты через env + `*_FILE` (Docker/Vault-style)
- [ ] Ограничения OpenAPI прокси: allowlist hosts/baseUrl, таймауты, лимиты ответа
- [ ] Логи в JSON (без секретов), корреляция запросов
- [ ] Health endpoint для HTTP транспорта (`/health`, `/ready`)

## Деплой в TimeWeb (через API)
- [ ] Определить минимальный “контракт деплоя” (что создаем: k8s cluster/namespace/registry/deployment/ingress)
- [ ] Обертка/клиент TimeWeb API в этом проекте (или общий пакет)
- [ ] “Deploy job”: собрать образ, запушить, создать/обновить deployment
- [ ] “Destroy job”: удалить ресурсы проекта

## ЛК (в отдельном сервисе)
- [ ] Авторизация/регистрация
- [ ] Проекты: CRUD
- [ ] Источники: настройка коннекторов + валидация доступов
- [ ] Размещение: выбор “наших кластеров” и окружения
- [ ] Предварительный расчет на базе probe
- [ ] Биллинг/планы (free tier по объему)

